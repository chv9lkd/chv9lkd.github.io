// index.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Inspiration Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
</body>
</html>

// src/main.jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// src/App.jsx
import React, { useState, useEffect } from 'react';
import QuoteGenerator from './components/QuoteGenerator';
import { createClient } from 'pexels';
import axios from 'axios';

const PEXELS_API_KEY = 'your_pexels_api_key';
const OPENAI_API_KEY = 'your_openai_api_key';

const pexelsClient = createClient(PEXELS_API_KEY);

const App = () => {
  return (
    <div className="min-h-screen bg-gray-900">
      <QuoteGenerator pexelsClient={pexelsClient} />
    </div>
  );
};

export default App;

// src/components/QuoteGenerator.jsx
import React, { useState, useEffect } from 'react';
import { Share2, Download, RefreshCw } from 'lucide-react';
import axios from 'axios';

const QuoteGenerator = ({ pexelsClient }) => {
  const [quote, setQuote] = useState('');
  const [image, setImage] = useState(null);
  const [loading, setLoading] = useState(false);

  const generateAIQuote = async () => {
    try {
      const response = await axios.post('https://api.openai.com/v1/completions', {
        model: "gpt-3.5-turbo-instruct",
        prompt: "Generate a profound, inspirational quote in the style of ancient wisdom or modern philosophy. Make it brief and impactful.",
        max_tokens: 50,
        temperature: 0.7
      }, {
        headers: {
          'Authorization': `Bearer ${process.env.OPENAI_API_KEY}`,
          'Content-Type': 'application/json'
        }
      });
      return response.data.choices[0].text.trim();
    } catch (error) {
      console.error('Error generating AI quote:', error);
      return generateFallbackQuote();
    }
  };

  const generateFallbackQuote = () => {
    const templates = [
      "The journey of {n} leads to {adj} wisdom",
      "Within every {n} lies {adj} truth",
      "Time reveals the {adj} nature of {n}",
      "Beyond {n} exists {adj} possibility"
    ];
    const adjectives = ["eternal", "infinite", "profound", "boundless", "timeless"];
    const nouns = ["moment", "challenge", "silence", "journey", "spirit"];
    
    const template = templates[Math.floor(Math.random() * templates.length)];
    return template
      .replace('{adj}', adjectives[Math.floor(Math.random() * adjectives.length)])
      .replace('{n}', nouns[Math.floor(Math.random() * nouns.length)]);
  };

  const getRandomImage = async () => {
    try {
      const query = ['nature', 'abstract', 'spiritual', 'minimal'][Math.floor(Math.random() * 4)];
      const response = await pexelsClient.photos.search({ query, per_page: 1 });
      return response.photos[0].src.large;
    } catch (error) {
      console.error('Error fetching image:', error);
      return '/fallback-background.jpg';
    }
  };

  const generateNew = async () => {
    setLoading(true);
    try {
      const [newQuote, newImage] = await Promise.all([
        generateAIQuote(),
        getRandomImage()
      ]);
      setQuote(newQuote);
      setImage(newImage);
    } catch (error) {
      console.error('Error generating content:', error);
    }
    setLoading(false);
  };

  useEffect(() => {
    generateNew();
  }, []);

  const share = async () => {
    try {
      await navigator.share({
        title: 'Inspirational Quote',
        text: quote,
        url: window.location.href
      });
    } catch (error) {
      console.error('Error sharing:', error);
    }
  };

  const download = async () => {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    const img = new Image();
    
    img.onload = () => {
      canvas.width = img.width;
      canvas.height = img.height;
      
      // Draw image
      ctx.drawImage(img, 0, 0);
      
      // Add overlay
      ctx.fillStyle = 'rgba(0, 0, 0, 0.4)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Add text
      ctx.fillStyle = 'white';
      ctx.font = '48px Arial';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      
      // Word wrap text
      const words = quote.split(' ');
      let line = '';
      let lines = [];
      words.forEach(word => {
        const testLine = line + word + ' ';
        if (ctx.measureText(testLine).width > canvas.width - 60) {
          lines.push(line);
          line = word + ' ';
        } else {
          line = testLine;
        }
      });
      lines.push(line);
      
      // Draw text lines
      lines.forEach((line, i) => {
        ctx.fillText(
          line, 
          canvas.width / 2, 
          canvas.height / 2 - ((lines.length - 1) * 30) + (i * 60)
        );
      });
      
      // Download
      const link = document.createElement('a');
      link.download = 'inspiration.png';
      link.href = canvas.toDataURL();
      link.click();
    };
    
    img.src = image;
  };

  return (
    <div className="max-w-2xl mx-auto p-4">
      <header className="text-gray-100 p-4 flex justify-between items-center">
        <h1 className="text-2xl font-light">AI InspirationGen</h1>
        <button 
          onClick={generateNew}
          disabled={loading}
          className="p-2 rounded-full hover:bg-gray-800 transition-colors"
        >
          <RefreshCw className={`w-6 h-6 ${loading ? 'animate-spin' : ''}`} />
        </button>
      </header>

      <div 
        className="relative aspect-square rounded-lg overflow-hidden"
        style={{
          backgroundImage: `url(${image})`,
          backgroundSize: 'cover',
          backgroundPosition: 'center'
        }}
      >
        <div className="absolute inset-0 bg-black/40 flex items-center justify-center p-8">
          <h2 className="text-white text-4xl font-light leading-relaxed text-center">
            {quote}
          </h2>
        </div>
      </div>

      <div className="mt-6 grid grid-cols-2 gap-4">
        <button 
          onClick={share}
          className="p-4 bg-gray-800 rounded-lg text-white flex items-center justify-center gap-2 hover:bg-gray-700 transition-colors"
        >
          <Share2 className="w-4 h-4" />
          Share
        </button>
        <button 
          onClick={download}
          className="p-4 bg-gray-800 rounded-lg text-white flex items-center justify-center gap-2 hover:bg-gray-700 transition-colors"
        >
          <Download className="w-4 h-4" />
          Download
        </button>
      </div>

      <div className="mt-6 grid grid-cols-4 gap-4">
        {['T-Shirt', 'Poster', 'Mug', 'Sticker'].map(product => (
          <button 
            key={product}
            className="p-4 bg-gray-800 rounded-lg text-white hover:bg-gray-700 transition-colors"
          >
            {product}
          </button>
        ))}
      </div>
    </div>
  );
};

export default QuoteGenerator;

// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000
  }
});

// package.json
{
  "name": "ai-inspiration-generator",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "axios": "^1.6.2",
    "lucide-react": "^0.293.0",
    "pexels": "^1.4.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.0",
    "autoprefixer": "^10.4.16",
    "postcss": "^8.4.31",
    "tailwindcss": "^3.3.5",
    "vite": "^5.0.0"
  }
}

// .env
VITE_OPENAI_API_KEY=your_openai_api_key
VITE_PEXELS_API_KEY=your_pexels_api_key

// .gitignore
node_modules
dist
.env