<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformers: Autobots vs. Decepticons</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1c1c1c;
            color: white;
            text-align: center;
            padding: 20px;
        }
        #battle-log {
            border: 1px solid #555;
            padding: 10px;
            height: 200px;
            overflow-y: auto;
            margin-top: 20px;
            background: #222;
        }
        button {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
        }
        button:disabled {
            background: #555;
            cursor: not-allowed;
        }
        .health-bar {
            height: 20px;
            width: 200px;
            background: red;
            margin: 10px auto;
            border-radius: 10px;
            position: relative;
        }
        .health-fill {
            height: 100%;
            background: limegreen;
            border-radius: 10px;
        }
        .character-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .character-card {
            border: 1px solid #555;
            padding: 10px;
            cursor: pointer;
            background: #333;
            color: white;
            width: 150px;
            text-align: center;
            border-radius: 10px;
        }
        .character-card:hover {
            background: #444;
        }
        .selected {
            border: 2px solid limegreen;
        }
        .shake {
            animation: shake 0.3s ease;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <h1>Transformers: Autobots vs. Decepticons</h1>
    <div id="character-select-screen">
        <h2>Select Your Characters</h2>
        <div class="character-selection">
            <div class="character-card" data-character="Optimus Prime">
                <h3>Optimus Prime</h3>
                <p>Health: 100</p>
                <p>Attack: 10</p>
                <p>Special: 25</p>
            </div>
            <div class="character-card" data-character="Bumblebee">
                <h3>Bumblebee</h3>
                <p>Health: 80</p>
                <p>Attack: 8</p>
                <p>Special: 20</p>
            </div>
            <div class="character-card" data-character="Megatron">
                <h3>Megatron</h3>
                <p>Health: 120</p>
                <p>Attack: 12</p>
                <p>Special: 30</p>
            </div>
            <div class="character-card" data-character="Starscream">
                <h3>Starscream</h3>
                <p>Health: 90</p>
                <p>Attack: 9</p>
                <p>Special: 22</p>
            </div>
        </div>
        <button id="start-game" disabled>Start Game</button>
    </div>

    <div id="battle-screen" style="display: none;">
        <h2 id="player-turn"></h2>
        <div>
            <h3 id="player1-name"></h3>
            <div class="health-bar"><div id="player1-health" class="health-fill" style="width: 100%;"></div></div>
            <button id="player1-attack" disabled>Attack</button>
            <button id="player1-special" disabled>Special Move</button>
        </div>

        <div>
            <h3 id="player2-name"></h3>
            <div class="health-bar"><div id="player2-health" class="health-fill" style="width: 100%;"></div></div>
            <button id="player2-attack" disabled>Attack</button>
            <button id="player2-special" disabled>Special Move</button>
        </div>

        <div id="battle-log"></div>
    </div>

    <script>
        // Character Data
        const characters = {
            "Optimus Prime": { health: 100, attack: 10, special: 25 },
            "Bumblebee": { health: 80, attack: 8, special: 20 },
            "Megatron": { health: 120, attack: 12, special: 30 },
            "Starscream": { health: 90, attack: 9, special: 22 },
        };

        // DOM Elements
        const charCards = document.querySelectorAll(".character-card");
        const startButton = document.getElementById("start-game");
        const battleScreen = document.getElementById("battle-screen");
        const charSelectScreen = document.getElementById("character-select-screen");
        const battleLog = document.getElementById("battle-log");
        const playerTurn = document.getElementById("player-turn");
        const player1Name = document.getElementById("player1-name");
        const player1HealthBar = document.getElementById("player1-health");
        const player2Name = document.getElementById("player2-name");
        const player2HealthBar = document.getElementById("player2-health");
        const player1Attack = document.getElementById("player1-attack");
        const player1Special = document.getElementById("player1-special");
        const player2Attack = document.getElementById("player2-attack");
        const player2Special = document.getElementById("player2-special");

        // Game State
        let player1 = null;
        let player2 = null;
        let turn = "player1";

        // Character Selection
        charCards.forEach(card => {
            card.addEventListener("click", () => {
                if (!player1) {
                    player1 = characters[card.dataset.character];
                    player1.name = card.dataset.character;
                    card.classList.add("selected");
                } else if (!player2 && !card.classList.contains("selected")) {
                    player2 = characters[card.dataset.character];
                    player2.name = card.dataset.character;
                    card.classList.add("selected");
                    startButton.disabled = false;
                }
            });
        });

        // Start Game
        startButton.addEventListener("click", () => {
            charSelectScreen.style.display = "none";
            battleScreen.style.display = "block";
            player1Name.textContent = player1.name;
            player2Name.textContent = player2.name;
            playerTurn.textContent = `${player1.name}'s Turn`;
            player1Attack.disabled = false;
            player1Special.disabled = false;
        });

        // Update Health Bars
        function updateHealthBars() {
            player1HealthBar.style.width = `${player1.health}%`;
            player2HealthBar.style.width = `${player2.health}%`;
        }

        // Check for Game Over
        function checkGameOver() {
            if (player1.health <= 0) {
                battleLog.innerHTML += `<p>${player2.name} wins!</p>`;
                disableAllButtons();
            } else if (player2.health <= 0) {
                battleLog.innerHTML += `<p>${player1.name} wins!</p>`;
                disableAllButtons();
            }
        }

        // Disable Buttons
        function disableAllButtons() {
            player1Attack.disabled = true;
            player1Special.disabled = true;
            player2Attack.disabled = true;
            player2Special.disabled = true;
        }

        // Switch Turn
        function switchTurn() {
            turn = turn === "player1" ? "player2" : "player1";
            playerTurn.textContent = `${turn === "player1" ? player1.name : player2.name}'s Turn`;

            player1Attack.disabled = turn !== "player1";
            player1Special.disabled = turn !== "player1";
            player2Attack.disabled = turn !== "player2";
            player2Special.disabled = turn !== "player2";
        }

        // Player Actions
        player1Attack.addEventListener("click", () => {
            player2.health -= player1.attack;
            battleLog.innerHTML += `<p>${player1.name} attacks ${player2.name} for ${player1.attack} damage!</p>`;
            updateHealthBars();
            checkGameOver();
            switchTurn();
        });

        player1Special.addEventListener("click", () => {
            player2.health -= player1.special;
            battleLog.innerHTML += `<p>${player1.name} uses a special move on ${player2.name} for ${player1.special} damage!</p>`;
            updateHealthBars();
            checkGameOver();
            switchTurn();
        });

        player2Attack.addEventListener("click", () => {
            player1.health -= player2.attack;
            battleLog.innerHTML += `<p>${player2.name} attacks ${player1.name} for ${player2.attack} damage!</p>`;
            updateHealthBars();
            checkGameOver();
            switchTurn();
        });

        player2Special.addEventListener("click", () => {
            player1.health -= player2.special;
            battleLog.innerHTML += `<p>${player2.name} uses a special move on ${player1.name} for ${player2.special} damage!</p>`;
            updateHealthBars();
            checkGameOver();
            switchTurn();
        });
    </script>
</body>
</html>